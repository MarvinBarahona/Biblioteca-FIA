<div *ngIf="ejemplar; else elseEjemplar">
  <!-- Información del ejemplar -->
  <div class="row">
    <div class="col s12 m12">

      <div class="card-panel">
        <h5>Información del ejemplar</h5>

        <div class="row">
          <div class="col s12">
            <strong>Libro: </strong>
            <span><a [routerLink]="'/libros/'+ejemplar.libro.id">{{ejemplar.libro.titulo}}</a></span>
          </div>
        </div>

        <div class="row">
          <div class="col m5 s12">
            <strong>Código de barra: </strong>
            <span>{{ejemplar.codigo || "No asignado"}}</span>
          </div>
          <div class="col m5 s12">
            <strong>Estado: </strong>
            <span>{{ejemplar.estado}}</span>
          </div>
        </div>
      </div>
      <!-- /card-panel -->
    </div>
  </div>


  <!-- Tabla de transacciones -->
  <div class="row">
    <div class="col s12 m12">
      <div class="card-panel">
        <h5>Transacciones</h5>
        <table class="row-border hover">
          <thead>
            <tr>
              <th>Transacción</th>
              <th>Fecha</th>
              <th>Autoriza</th>
              <th>Proceso</th>
            </tr>
          </thead>
          <tbody>
            <!-- Mensaje de carga -->
            <tr *ngFor="let transaccion of ejemplar.transacciones">
              <td>{{transaccion.tipo}}</td>
              <td>{{transaccion.fecha | date:"d/M/y"}}</td>
              <td>{{transaccion.usuario}}</td>
              <td>
                <a *ngIf="transaccion.tipo=='Donación' || transaccion.tipo=='Compra'" [routerLink]="['/adquisiciones/'+transaccion.id]">{{transaccion.nombre}}</a>
                <a *ngIf="transaccion.tipo=='Entrada'" [routerLink]="['/intercambios/entrada/'+transaccion.id]">{{transaccion.nombre}}</a>
                <a *ngIf="transaccion.tipo=='Salida'" [routerLink]="['/intercambios/salida/'+transaccion.id]">{{transaccion.nombre}}</a>
              </td>
            </tr>
          </tbody>
        </table>
        <!-- /table -->
      </div>
      <!-- card-panel -->
    </div>
  </div>
</div>

<!-- Mensaje de espera -->
<ng-template #elseEjemplar>
  <div class="row">
    <div class="col s8 m8 offset-s2 offset-m2">
      <p>Cargando...</p>
      <div class="progress">
        <div class="indeterminate"></div>
      </div>
    </div>
  </div>
</ng-template>
